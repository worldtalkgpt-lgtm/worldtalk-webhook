from aiogram import types
from aiogram.dispatcher import Dispatcher
from handlers.menu import send_menu  # ‚úÖ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –º–µ–Ω—é

def setup(dp: Dispatcher):
    @dp.callback_query_handler(lambda c: c.data == "about_bot")
    async def about_bot_handler(callback_query: types.CallbackQuery):
        about_text = (
            "<b>üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ WorldTalk</b>\n\n"
            "WorldTalk ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è, "
            "–∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –æ–ø—ã—Ç—É –æ–±—â–µ–Ω–∏—è —Å –≤—ã–¥–∞—é—â–∏–º–∏—Å—è –ª–∏—á–Ω–æ—Å—Ç—è–º–∏.\n\n"
            "–ú—ã —Å–æ–∑–¥–∞—ë–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –≥–¥–µ –∑–∞–ø–∏—Å–∏ –≥–æ–ª–æ—Å–æ–≤ –∏ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã "
            "–ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –∂–∏–≤–æ–π –¥–∏–∞–ª–æ–≥. –í—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –∑–∞–¥–∞—ë—Ç–µ –≤–æ–ø—Ä–æ—Å "
            "–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—Ç–≤–µ—Ç –≤ –µ–≥–æ –Ω–∞—Å—Ç–æ—è—â–µ–º –≥–æ–ª–æ—Å–µ.\n\n"
            "WorldTalk —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ "
            "–∏ –≥–ª—É–±–æ–∫–∏–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ –ª—é–¥—è–º, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏ –º–∏—Ä. "
            "–≠—Ç–æ –Ω–µ –∏–≥—Ä–∞ –∏ –Ω–µ —Å–ª—É—á–∞–π–Ω—ã–π —á–∞—Ç‚Äë–±–æ—Ç ‚Äî —ç—Ç–æ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –≤—ã—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ "
            "—Å –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–æ–π –∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.\n\n"
            "–ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç —Å–ø–∏—Å—ã–≤–∞–µ—Ç –µ–¥–∏–Ω–∏—Ü—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ ‚Äî –≥–æ–ª–æ—Å. "
            "–ì–æ–ª–æ—Å–∞ –º–æ–∂–Ω–æ –ø–æ–ø–æ–ª–Ω—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è, "
            "–æ—Ç–∫—Ä—ã–≤–∞—è –≤—Å—ë –±–æ–ª—å—à–µ –¥–∏–∞–ª–æ–≥–æ–≤ –∏ —Ç–µ–º.\n\n"
            "–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö, "
            "–æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏—Ö –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É.\n\n"
            "WorldTalk –∑–∞–¥—É–º–∞–Ω –∫–∞–∫ —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–∞—ë—Ç –ª—é–¥—è–º –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –æ–±—â–µ–Ω–∏—è "
            "—Å —Ç–µ–º–∏, –∫–æ–≥–æ –æ–Ω–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–º–æ–≥—É—Ç —É—Å–ª—ã—à–∞—Ç—å –ª–∏—á–Ω–æ. "
            "–≠—Ç–æ –ø—Ä–æ–¥—É–∫—Ç –¥–ª—è —à–∏—Ä–æ–∫–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞."
        )

        # üîò –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞–∑–∞–¥
        keyboard = types.InlineKeyboardMarkup()
        keyboard.add(
            types.InlineKeyboardButton("üîô –ù–∞–∑–∞–¥", callback_data="menu")
        )

        await callback_query.message.edit_text(
            about_text,
            reply_markup=keyboard,
            parse_mode="HTML"
        )

    # –æ–±—Ä–∞–±–æ—Ç–∫–∞ "–Ω–∞–∑–∞–¥" —É–∂–µ –µ—Å—Ç—å –≤ menu.py, –Ω–æ –µ—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–∂–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
    # —Å–¥–µ–ª–∞—Ç—å —Ç—É—Ç, —á—Ç–æ–±—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞
    @dp.callback_query_handler(lambda c: c.data == "menu")
    async def back_to_menu(callback_query: types.CallbackQuery):
        await send_menu(callback_query.from_user.id, callback_query.message, is_callback=True)
